{"version":3,"file":"js/app.6ca977c1.js","mappings":"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","sources":["webpack://canvas/./src/App.vue","webpack://canvas/src/App.vue","webpack://canvas/./src/App.vue?51dd","webpack://canvas/./src/App.vue?0e40","webpack://canvas/./src/main.js","webpack://canvas/webpack/bootstrap","webpack://canvas/webpack/runtime/chunk loaded","webpack://canvas/webpack/runtime/compat get default export","webpack://canvas/webpack/runtime/define property getters","webpack://canvas/webpack/runtime/global","webpack://canvas/webpack/runtime/hasOwnProperty shorthand","webpack://canvas/webpack/runtime/make namespace object","webpack://canvas/webpack/runtime/jsonp chunk loading","webpack://canvas/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"menu_btns\"},[_c('button',{staticClass:\"button-13\",attrs:{\"role\":\"button\"},on:{\"click\":_vm.addRect}},[_vm._v(\"Добавить\")]),_c('button',{staticClass:\"button-13\",attrs:{\"role\":\"button\"},on:{\"click\":_vm.deleteRects}},[_vm._v(\" Очистить \")]),_c('button',{staticClass:\"button-13\",attrs:{\"role\":\"button\"},on:{\"click\":_vm.save}},[_vm._v(\"Сохранить\")]),_c('button',{staticClass:\"button-13\",attrs:{\"role\":\"button\"},on:{\"click\":_vm.restore}},[_vm._v(\" Восстановить \")])]),_c('v-stage',{ref:\"stage\",attrs:{\"config\":_vm.stageSize}},[_c('v-layer',{ref:\"layer\"},[_vm._l((_vm.rectsList),function(item){return _c('v-group',{key:item.id,ref:\"group\",refInFor:true,attrs:{\"config\":{ draggable: _vm.isChosed ? false : true }},on:{\"dragmove\":_vm.updateCoords}},[_c('v-rect',{ref:\"rect\",refInFor:true,attrs:{\"config\":{\n            x: item.x,\n            y: item.y,\n            id: item.id,\n            width: 100,\n            height: 100,\n            stroke: 'black',\n            strokeWidth: 4,\n          }}}),_vm._l((item.nodes.slice(0, item.activeNodes)),function(el){return _c('v-circle',{key:el.id,ref:\"circle\",refInFor:true,attrs:{\"config\":{\n            id: el.id,\n            x: item.x + el.x,\n            y: item.y + el.y,\n            radius: 10,\n            // eslint-disable-next-line vue/no-parsing-error\n            fill: _vm.isChosed === el.id ? `red` : `green`,\n            draggable: false,\n          }},on:{\"click\":_vm.startLine}})})],2)}),_vm._l((_vm.connectors),function(line){return _c('v-line',{key:line.id,attrs:{\"config\":{\n          stroke: 'black',\n          strokeWidth: 4,\n          points: line.coords,\n        }}})})],2)],1),_vm._m(0)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"menu\"}},[_c('div',[_c('button',{attrs:{\"id\":\"oneNode\"}},[_vm._v(\"1\")]),_c('button',{attrs:{\"id\":\"twoNode\"}},[_vm._v(\"2\")]),_c('button',{attrs:{\"id\":\"threeNode\"}},[_vm._v(\"3\")]),_c('button',{attrs:{\"id\":\"fourNode\"}},[_vm._v(\"4\")]),_c('button',{attrs:{\"id\":\"delete-button\"}},[_vm._v(\"Delete\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <div class=\"menu_btns\">\n      <button class=\"button-13\" role=\"button\" @click=\"addRect\">Добавить</button>\n\n      <button class=\"button-13\" role=\"button\" @click=\"deleteRects\">\n        Очистить\n      </button>\n      <button class=\"button-13\" role=\"button\" @click=\"save\">Сохранить</button>\n      <button class=\"button-13\" role=\"button\" @click=\"restore\">\n        Восстановить\n      </button>\n    </div>\n\n    <v-stage ref=\"stage\" :config=\"stageSize\">\n      <v-layer ref=\"layer\">\n     \n        <v-group\n          v-for=\"item in rectsList\"\n          :key=\"item.id\"\n          ref=\"group\"\n          @dragmove=\"updateCoords\"\n          :config=\"{ draggable: isChosed ? false : true }\"\n        >\n          <v-rect\n            ref=\"rect\"\n            :config=\"{\n              x: item.x,\n              y: item.y,\n              id: item.id,\n              width: 100,\n              height: 100,\n              stroke: 'black',\n              strokeWidth: 4,\n            }\"\n          >\n          </v-rect>\n          <v-circle\n            ref=\"circle\"\n            v-for=\"el in item.nodes.slice(0, item.activeNodes)\"\n            :key=\"el.id\"\n            @click=\"startLine\"\n            :config=\"{\n              id: el.id,\n              x: item.x + el.x,\n              y: item.y + el.y,\n              radius: 10,\n              // eslint-disable-next-line vue/no-parsing-error\n              fill: isChosed === el.id ? `red` : `green`,\n              draggable: false,\n            }\"\n          />\n        </v-group>\n           <v-line\n          v-for=\"line in connectors\"\n          :key=\"line.id\"\n          :config=\"{\n            stroke: 'black',\n            strokeWidth: 4,\n            points: line.coords,\n          }\"\n        />\n      </v-layer>\n    </v-stage>\n    <div id=\"menu\">\n      <div>\n        <button id=\"oneNode\">1</button><button id=\"twoNode\">2</button\n        ><button id=\"threeNode\">3</button><button id=\"fourNode\">4</button\n        ><button id=\"delete-button\">Delete</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nconst width = window.innerWidth;\nconst height = window.innerHeight - 40;\n\nexport default {\n  data() {\n    return {\n      rectsList: [],\n      stageSize: {\n        width: width,\n        height: height,\n      },\n      isDragging: false,\n      connectors: [],\n      fromTarget: null,\n      toTarget: null,\n      parentFromId: null,\n      parentToId: null,\n      isChosed: null,\n      updatedRectList: [],\n      toSave: [],\n      gapArr: [],\n    };\n  },\n  methods: {\n    addRect() {\n      let xPos = Math.random() * width;\n      let yPos = Math.random() * height;\n\n      this.rectsList.push({\n        id: Date.now() + Math.random(),\n        x: xPos >= width - 150 ? Math.random() * width : xPos,\n        y: yPos >= height - 150 ? Math.random() * height : yPos,\n        activeNodes: 1,\n        nodes: this.getNodes(),\n      });\n    },\n    deleteRects() {\n      this.rectsList = [];\n      this.connectors = [];\n    },\n    startLine(e) {\n      // eslint-disable-next-line no-undef\n      const onCircle = e.target instanceof Konva.Circle;\n      if (!onCircle) {\n        return;\n      }\n\n      const stage = this.$refs.stage.getNode();\n      if (this.isChosed) {\n        this.toTarget = stage.getPointerPosition();\n        this.parentToId = e.target.parent.children[0].attrs.id;\n\n        if (this.parentFromId === this.parentToId) {\n          this.isChosed = null\n          return;\n        }\n\n        const newConnector = {\n          coords: [\n            this.fromTarget.x,\n            this.fromTarget.y,\n            this.toTarget.x,\n            this.toTarget.y,\n          ],\n          id: this.connectors.length,\n          from: this.isChosed,\n          to: e.target.attrs.id,\n          parentFromId: this.parentFromId,\n          parentToId: this.parentToId,\n        };\n        this.connectors.push(newConnector);\n\n        this.fromTarget = null;\n        this.toTarget = null;\n        this.isChosed = null;\n      } else {\n        this.fromTarget = stage.getPointerPosition();\n        this.isChosed = e.target.attrs.id;\n        this.parentFromId = e.target.parent.children[0].attrs.id;\n      }\n    },\n    updateObjects() {},\n    updateCoords(e) {\n      let changedId = e.target.children.filter((circle) => {\n        // eslint-disable-next-line no-undef\n        return circle instanceof Konva.Circle;\n      });\n\n      let changedRect = e.target.children.filter((rect) => {\n        // eslint-disable-next-line no-undef\n        return rect instanceof Konva.Rect;\n      })[0];\n\n      let isExist = this.updatedRectList.filter((item) => {\n        return item.id === changedRect.attrs.id;\n      }).length;\n\n      // eslint-disable-next-line no-extra-boolean-cast\n      if (isExist) {\n        this.updatedRectList = this.updatedRectList.map((element) => {\n          if (element.id === changedRect.attrs.id) {\n            return {\n              x: changedRect.absolutePosition().x,\n              y: changedRect.absolutePosition().y,\n              id: changedRect.attrs.id,\n            };\n          } else {\n            return element;\n          }\n        });\n      } else {\n        let changedRectCoords = {\n          x: changedRect.absolutePosition().x,\n          y: changedRect.absolutePosition().y,\n          id: changedRect.attrs.id,\n        };\n        this.updatedRectList.push(changedRectCoords);\n      }\n\n      this.connectors.map((item) => {\n        changedId.forEach((element) => {\n          if (item.from === element.attrs.id) {\n            item.coords.splice(\n              0,\n              2,\n              element.absolutePosition().x,\n              element.absolutePosition().y\n            );\n          } else if (item.to === element.attrs.id) {\n            item.coords.splice(\n              2,\n              2,\n              element.absolutePosition().x,\n              element.absolutePosition().y\n            );\n          }\n        });\n      });\n    },\n    save() {\n      if(!this.rectsList.length){\n        return\n      }\n      this.toSave = JSON.parse(JSON.stringify(this.rectsList));\n\n      this.gapArr = this.toSave.map((el) => {\n        let filteredId = this.updatedRectList.filter((item) => {\n          return el.id === item.id;\n        });\n        if (filteredId.length > 0) {\n          return {\n            ...el,\n            x: filteredId[0].x,\n            y: filteredId[0].y,\n            id: filteredId[0].id,\n          };\n        } else {\n          return el;\n        }\n      });\n      localStorage.setItem(\"storage\", JSON.stringify(this.gapArr));\n      localStorage.setItem(\"connections\", JSON.stringify(this.connectors));\n    },\n    restore() {\n      let data = localStorage.getItem(\"storage\") || \"[]\";\n      let conData = localStorage.getItem(\"connections\") || \"[]\";\n\n      this.rectsList = JSON.parse(data);\n      this.connectors = JSON.parse(conData);\n    },\n    getNodes() {\n      let rectNodes = [\n        {\n          id: Math.round(Math.random() * 10000).toString(),\n          x: +51,\n          y: -5,\n          radius: 10,\n          fill: \"black\",\n          draggable: false,\n        },\n\n        {\n          id: Math.round(Math.random() * 10000).toString(),\n          x: -4,\n          y: +51,\n          radius: 10,\n          fill: \"black\",\n          draggable: false,\n        },\n        {\n          id: Math.round(Math.random() * 10000).toString(),\n          x: +51,\n          y: +105,\n          radius: 10,\n          fill: \"black\",\n          draggable: false,\n        },\n        {\n          id: Math.round(Math.random() * 10000).toString(),\n          x: +104,\n          y: +51,\n          radius: 10,\n          fill: \"black\",\n          draggable: false,\n        },\n      ];\n      return rectNodes;\n    },\n  },\n  computed: {},\n  mounted() {\n    const stage = this.$refs.stage.getNode();\n\n    // setup menu\n    var menuNode = document.getElementById(\"menu\");\n    let currentShape;\n    let deletedId;\n\n    let currentShapeId;\n    document.getElementById(\"delete-button\").addEventListener(\"click\", () => {\n      this.connectors = this.connectors.filter((item) => {\n        return item.parentFromId != deletedId && item.parentToId != deletedId;\n      });\n      currentShape.removeChildren();\n      this.isChosed = null\n    });\n\n    document.getElementById(\"oneNode\").addEventListener(\"click\", () => {\n      this.rectsList = this.rectsList.map((rect) =>\n        rect.id === currentShapeId ? { ...rect, activeNodes: 1 } : rect\n      );\n    });\n\n    document.getElementById(\"twoNode\").addEventListener(\"click\", () => {\n      this.rectsList = this.rectsList.map((rect) =>\n        rect.id === currentShapeId ? { ...rect, activeNodes: 2 } : rect\n      );\n    });\n\n    document.getElementById(\"threeNode\").addEventListener(\"click\", () => {\n      this.rectsList = this.rectsList.map((rect) =>\n        rect.id === currentShapeId ? { ...rect, activeNodes: 3 } : rect\n      );\n    });\n\n    document.getElementById(\"fourNode\").addEventListener(\"click\", () => {\n      this.rectsList = this.rectsList.map((rect) =>\n        rect.id === currentShapeId ? { ...rect, activeNodes: 4 } : rect\n      );\n    });\n\n    window.addEventListener(\"click\", () => {\n      // hide menu\n      menuNode.style.display = \"none\";\n    });\n\n    stage.on(\"contextmenu\", function (e) {\n      // prevent default behavior\n      e.evt.preventDefault();\n\n      if (e.target === stage) {\n        // if we are on empty place of the stage we will do nothing\n        return;\n      }\n      deletedId = e.target.attrs.id;\n      currentShape = e.target.parent;\n      currentShapeId = currentShape.children[0].attrs.id;\n\n      // show menu\n      menuNode.style.display = \"initial\";\n      var containerRect = stage.container().getBoundingClientRect();\n      menuNode.style.top =\n        containerRect.top + stage.getPointerPosition().y + 4 + \"px\";\n      menuNode.style.left =\n        containerRect.left + stage.getPointerPosition().x + 4 + \"px\";\n    });\n  },\n};\n</script>\n\n<style>\n @import '@/css/main.css';\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=099825b0&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=099825b0&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport App from \"./App.vue\";\n\nimport VueKonva from \"vue-konva\"; \n\nVue.use(VueKonva);\n\nVue.config.productionTip = false;\n\nnew Vue({ \n  render: (h) => h(App),\n}).$mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkcanvas\"] = self[\"webpackChunkcanvas\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(148); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticClass","on","addRect","_v","deleteRects","save","restore","ref","stageSize","_l","rectsList","item","key","id","refInFor","draggable","isChosed","updateCoords","x","y","width","height","stroke","strokeWidth","nodes","slice","activeNodes","el","radius","fill","startLine","connectors","line","points","coords","_m","staticRenderFns","window","innerWidth","innerHeight","data","isDragging","fromTarget","toTarget","parentFromId","parentToId","updatedRectList","toSave","gapArr","methods","from","to","updateObjects","length","changedId","element","localStorage","getNodes","computed","mounted","document","currentShape","rect","menuNode","stage","e","deletedId","currentShapeId","containerRect","component","Vue","VueKonva","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","value","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}